(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3599],{37214:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>u,default:()=>f,frontMatter:()=>d,metadata:()=>h,toc:()=>g});var s=n(86070),o=n(25710),i=(n(30758),n(55230)),a=n(7871),r=n(92076);function c(e){return(0,s.jsx)("div",{children:e?.rows?.map((e=>(0,s.jsx)("div",{className:"gap-4 flex max-w-full my-10",children:e.map((e=>{if("title"in e)return(0,s.jsx)("div",{className:"flex-1 w-full",children:(0,s.jsx)(l,{...e})});if("content"in e){const t=e.path.split("."),n=t[t.length-1];return(0,s.jsxs)("div",{className:"flex-1 w-full",children:[(0,s.jsxs)(r.A,{to:`https://github.com/metatypedev/metatype/blob/main/${e.path}`,className:"absolute top-0 right-0 m-2 p-1",children:[e.path.split("/").pop()," \u2197"]}),(0,s.jsx)(a.A,{language:n,wrap:!0,children:e.content})]})}return(0,s.jsx)("div",{className:"flex-1 w-full",children:e})}))})))})}function l(e){return(0,s.jsx)(r.A,{to:e.link,style:{textDecoration:"none",color:"inherit"},children:(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"flex gap-2 justify-between",children:[(0,s.jsx)(i.A,{as:"h3",className:"inline-block",children:e.title}),(0,s.jsx)("span",{className:`text-right ${{complete:"text-green-500",beta:"text-yellow-500",future:"text-pink-500"}[e.status]}`,children:e.status.toUpperCase()})]}),(0,s.jsx)("div",{children:e.body})]})})}var p=n(65671);const d={sidebar_position:1},u="Features overview",h={id:"concepts/features-overview/index",title:"Features overview",description:"We're taking any and all kinds of feature requests, suggestions and recommendations. Please direct them kindly to the github ticket or better yet discussion boards. Thank you!",source:"@site/docs/concepts/features-overview/index.mdx",sourceDirName:"concepts/features-overview",slug:"/concepts/features-overview/",permalink:"/docs/concepts/features-overview/",draft:!1,unlisted:!1,editUrl:"https://github.com/metatypedev/metatype/tree/main/docs/metatype.dev/docs/concepts/features-overview/index.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docs",previous:{title:"index",permalink:"/docs/reference/metagen/"},next:{title:"Mental model",permalink:"/docs/concepts/mental-model/"}},m={},g=[{value:"Typegate",id:"typegate",level:2},{value:"Typegraph",id:"typegraph",level:2},{value:"Runtimes",id:"runtimes",level:2},{value:"Prisma",id:"prisma",level:3},{value:"Authentication",id:"authentication",level:2},{value:"Tooling",id:"tooling",level:2},{value:"SDKs",id:"sdks",level:2}];function y(e){const t={a:"a",admonition:"admonition",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",p:"p",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"features-overview",children:"Features overview"}),"\n",(0,s.jsx)(t.admonition,{title:"Suggestions",type:"info",children:(0,s.jsxs)(t.p,{children:["We're taking any and all kinds of feature requests, suggestions and recommendations. Please direct them kindly to the github ",(0,s.jsx)(t.a,{href:"https://github.com/metatypedev/metatype/issues",children:"ticket"})," or better yet ",(0,s.jsx)(t.a,{href:"https://github.com/metatypedev/metatype/discussions/",children:"discussion"})," boards. Thank you!"]})}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(t.h2,{id:"typegate",children:"Typegate"}),"\n",(0,s.jsx)(c,{rows:[[{title:"GraphQL API",status:"complete",link:"/docs/reference/typegate",body:(0,s.jsx)(s.Fragment,{children:"Expose select functions in your graph through a GraphQL API. These root-functions will serve as the entry point to your graph for any incoming request. The typegraph model is a great fit for GraphQL semantics and this is the best supported way to consume typegraphs."})},{title:"GraphQL Subscriptions",status:"future",link:"https://github.com/metatypedev/metatype/issues/726",body:(0,s.jsx)(s.Fragment,{children:"Get real-time data to clients."})}],[{title:"REST API",status:"complete",link:"/docs/guides/rest",body:(0,s.jsx)(s.Fragment,{children:"You can expose select root functions through a simple REST API. This is handy to serve endpoints for clients that are not GraphQl capable, even though it hampers access to some typegraph features. Inputs will be sourced from either HTTP bodies or search parameters according to HTTP verb."})},{title:"gRPC API",status:"complete",link:"/docs/reference/typegate",body:(0,s.jsx)(s.Fragment,{children:"Expose your gRPC API, enabling high-performance, bi-directional communication between services. This allows you to call gRPC methods directly from the typegraph, providing more flexibility and better integration with existing gRPC-based microservices. This approach supports a broader range of real-time use cases ."})}],[{title:"Cron triggers",status:"future",link:"/docs/reference/typegate",body:(0,s.jsx)(s.Fragment,{children:"Execute functions at certain time intervals. Useful for cleanup jobs."})},(0,s.jsx)(t.div,{})],[{title:"Rate-limiting",status:"complete",link:"/docs/reference/typegate/cors",body:(0,s.jsx)(s.Fragment,{children:"Rate-limit parts of your graph to minimize abuse. The limits can be configured granularly for each function and for custom time windows. Use custom request identifiers, in addition to ip addresses, to track limits counters."})},{title:"CORS",status:"complete",link:"/docs/reference/typegate/cors",body:(0,s.jsx)(s.Fragment,{children:"Specify cross-origin request rules to control which domains can access your API from within a browser. Prevents abuse from websites trying to use your API without permission."})}],[{title:"Single-node",status:"complete",link:"/docs/reference/typegate/synchronization",body:(0,s.jsx)(s.Fragment,{children:"The typegate can be run as a single node mode for simple deployments and using the filesystem as its artifact store. Useful for local development and testing."})},{title:"Multi-node",status:"complete",link:"/docs/reference/typegate/synchronization",body:(0,s.jsx)(s.Fragment,{children:"Deploy multiple instances of the typegate to distribute loads across machines and scale horizontally. You'll only need a Redis compatible key-value cache, an S3 compatible object store, and your favorite load-balancer in front of the instances to get it going. This mode is recommended for production deployments even if only a single node is used."})}]]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(t.h2,{id:"typegraph",children:"Typegraph"}),"\n",(0,s.jsx)(c,{rows:[[(0,s.jsx)(p.A,{python:n(84986),typescript:n(24204),disablePlayground:!0})],[{title:"Scalar types",status:"complete",link:"/docs/reference/types#scalar-types",body:(0,s.jsxs)(s.Fragment,{children:["The primitive types ",(0,s.jsx)(t.code,{children:"integer"}),", ",(0,s.jsx)(t.code,{children:"float"}),","," ",(0,s.jsx)(t.code,{children:"boolean"}),", ",(0,s.jsx)(t.code,{children:"string"})," and ",(0,s.jsx)(t.code,{children:"file"}),". All data that flows through a typegraph reduces down to these types."]})},{title:"Type constraints",status:"complete",link:"/docs/reference/types/injections",body:(0,s.jsx)(s.Fragment,{children:"Declare types in your graph that are subset of primitives like string and integers by using regular expressions or min/max limits. Useful to validate incoming data even more and distribute invariants through your app."})}],[{title:"Composite types",status:"complete",link:"/docs/reference/types#scalar-types",body:(0,s.jsxs)(s.Fragment,{children:["Support for ",(0,s.jsx)(t.code,{children:"struct"}),", ",(0,s.jsx)(t.code,{children:"list"}),","," ",(0,s.jsx)(t.code,{children:"union"}),", ",(0,s.jsx)(t.code,{children:"either"})," and ",(0,s.jsx)(t.code,{children:"optional"})," ","types. These allow you to represent types equivalent to most modern type systems."]})},{title:"Injections",status:"complete",link:"/docs/reference/types/injections",body:(0,s.jsx)(s.Fragment,{children:"Injections resolve part of your graph inline instead of from functions or provide defaults for incoming request data. This can be used to set static values or source them from the context, other parts of the graph...etc."})}],[{title:"Functions",status:"complete",link:"/docs/reference/types/functions",body:(0,s.jsxs)(s.Fragment,{children:["Nodes in your typegraph that represent data to be resolved after running some logic on a ",(0,s.jsx)(t.code,{children:"Runtime"}),"."]})},{title:"Function chaining",status:"future",link:"https://github.com/metatypedev/metatype/issues/721",body:(0,s.jsx)(s.Fragment,{children:"Compose functions together by feeding the output of one as the input of another. Encourages code reuse by allowing one to extract common middleware logic from each function, all within the typegraph layer."})}],[{title:(0,s.jsx)(t.code,{children:"reduce"}),status:"complete",link:"/docs/reference/types/parameter-transformations#funcreducetree",body:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.code,{children:"reduce"})," is useful to transform function input types so that only certain struct fields are used, discarding the others. Required fields can be hidden from the user and can instead be injected from the request's context or a static default. This is useful for remixing generated or core domain types to more targeted forms appropriate for a function."]})},{title:(0,s.jsx)(t.code,{children:"apply"}),status:"complete",link:"/docs/reference/types/parameter-transformations#funcapplytree",body:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.code,{children:"apply"})," allows the flattening of deeply nested function input types to something friendlier. Injection can also be used to substitute required fields in the original type from another source."]})}],[{title:"Imports",status:"future",link:"https://github.com/metatypedev/metatype/issues/722",body:(0,s.jsxs)(s.Fragment,{children:["Imports will allow graphs to include nodes from other API descriptions like GraphQL, OpenAPI, gRPC and database schemas. These APIs can then be consumed in a typesafe manner through the"," ",(0,s.jsx)(t.code,{children:"GraphQL"})," and ",(0,s.jsx)(t.code,{children:"Http"})," runtimes."]})},{title:"Secrets",status:"complete",link:"#",body:(0,s.jsx)(s.Fragment,{children:"First-class support for secrets to ease runtime substitution of sensetive values. API keys or dynamic values only discovrable after deployment, this is how you get them into your app."})}]]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(t.h2,{id:"runtimes",children:"Runtimes"}),"\n",(0,s.jsx)(c,{rows:[[{title:"Deno runtime",status:"complete",link:"/docs/reference/runtimes/deno",body:(0,s.jsx)(s.Fragment,{children:"Write functions that execute pieces of TypeScript code on a Deno worker. Includes easy access to ESM and libraries through standard Deno features."})}],[(0,s.jsx)(p.A,{python:n(38981),typescript:n(27395),disablePlayground:!0})],[{title:"Python runtime",status:"beta",link:"/docs/reference/runtimes/python",body:(0,s.jsx)(s.Fragment,{children:"Implement functions that execute python functions in code snippets or on disk modules."})}],[(0,s.jsxs)(a.A,{language:"py",children:['from typegraph import typegraph, Policy, t, Graph\nfrom typegraph.runtimes.deno import PythonRuntime\n\n@typegraph() def example_python(g: Graph): public = Policy.public() python = PythonRuntime()\n\n    g.expose(\n        public,\n        add=t.func(\n            t.struct({"a": t.integer(), "b": t.integer()}),\n            t.integer(),\n            # we can provide the code inline using lambdas\n            python.from_lambda(lambda x: x["a"] + x["b"]),\n        ),\n        sayHello=python.import_(\n            t.struct({"name": t.string()}),\n            t.string(),\n            # point to pythoin a file on disc\n            module="hello.py",\n            name="say_hello"\n        ),\n    )\n\n}'," "]})],[{title:"S3 runtime",status:"complete",link:"/docs/reference/runtimes/s3",body:(0,s.jsxs)(s.Fragment,{children:[" Store large blobs in S3 compatible object stores. This includes support for ",(0,s.jsx)(r.A,{to:"/docs/guides/files-upload",children:"GraphQL file uploads"})," and presigned URLs making working with images and large uploads a breeze. "]})},{title:"Temporal runtime",status:"complete",link:"/docs/reference/runtimes/temporal",body:(0,s.jsx)(s.Fragment,{children:" Kick off and query Temporal workflows from a typegraph. Temporal is a durable execution engine that can be used to implement long-running, failure-resistant business processes. "})},{title:"Wasm runtime",status:"beta",link:"/docs/reference/runtimes/wasm",body:(0,s.jsx)(s.Fragment,{children:" Make functions that use WASM components to implement their logic. Write core-wasm or wasi 0.2 based wasm components in languages like Rust, Python and Javascript to power all your custom functions. "})}],[{title:"GraphQL runtime",status:"complete",link:"/docs/reference/runtimes/graphql",body:(0,s.jsx)(s.Fragment,{children:" Include external GraphQL APIs as part of your typegraph. This runtime provides functions that resolve the data by querying an external GraphQL API. "})},{title:"Http runtime",status:"complete",link:"/docs/reference/runtimes/http",body:(0,s.jsx)(s.Fragment,{children:" Include external Http APIs as part of your typegraph. Source the data for your graph using external HTTP requests. "})}],[{title:"Random runtime",status:"complete",link:"/docs/reference/runtimes/random",body:(0,s.jsx)(s.Fragment,{children:" Functions to generate random data based on your types. Useful for quickly throwing together an API and testing. "})},{title:"gRPC runtime",status:"complete",link:"/docs/reference/runtimes/grpc",body:(0,s.jsx)(s.Fragment,{children:" Include external gRPC APIs as part of your typegraph. "})}]]}),"\n",(0,s.jsx)(t.h3,{id:"prisma",children:"Prisma"}),"\n",(0,s.jsx)(t.p,{children:"Access a myriad of databases directly from your typegraph. Run queries, mange it's schema, the full orm featureset."}),"\n",(0,s.jsx)(c,{rows:[[(0,s.jsx)(p.A,{python:n(50864),typescript:n(74518),disablePlayground:!0})],[{title:"Relational schemas",status:"complete",link:"/docs/reference/runtimes/prisma#relationships",body:(0,s.jsx)(s.Fragment,{children:"Use the types in your graph to declare and manage relational schemas to be used on your databse. This means support for primary keys, unique constraints, one-to-one, one-to-many, many-to-many relationships...etc."})},{title:"CRUD queries",status:"complete",link:"/docs/reference/runtimes/prisma#generators",body:(0,s.jsx)(s.Fragment,{children:"Easily generate functions for common create, update, read and delete queries. Includes nested filtering and aggregration paramters for efficent and targeted requests."})},{title:"Raw queries",status:"complete",link:"/docs/reference/runtimes/prisma#raw-query",body:(0,s.jsx)(s.Fragment,{children:"Drop down to raw SQL queries for cases not covered by the CRUD generators. Useful to access unique features native to your database or craft extra efficient queries."})}],[{title:"PostgreSQL support",status:"complete",link:"/docs/reference/runtimes/prisma",body:(0,s.jsx)(s.Fragment,{children:"Support for PostgreSQL, a modern and established DBMS."})},{title:"Beta databases",status:"beta",link:"https://github.com/metatypedev/metatype/issues/724",body:(0,s.jsx)(s.Fragment,{children:"MySQL, MariaDB, AWS Aurora, AWS Aurora Serverless, Microsoft SQL Server, Azure SQL, MongoDB, CockroachDB."})}]]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(t.h2,{id:"authentication",children:"Authentication"}),"\n",(0,s.jsx)(c,{rows:[[{title:"Policy-based access control",status:"complete",link:"/docs/reference/policies",body:(0,s.jsx)(s.Fragment,{children:"Policies are simple functions that take the request as input and return values to signal whether it's allowed/denied access. They can be attached to any function in the graph and are evaluated right before the request triggers one. They compose well and are the primary authorization primitive available to typegraphs."})}],[(0,s.jsx)(p.A,{python:n(85775),typescript:n(22481),disablePlayground:!0})],[{title:"Basic authentication",status:"complete",link:"/docs/reference/typegate/authentication#basic-authentication",body:(0,s.jsx)(s.Fragment,{children:"Requests can authenticate themselves using Basic HTTP headers. Simple but useful for getting started or protecting admin only requests."})},(0,s.jsx)(p.A,{python:n(33175),typescript:n(26217),disablePlayground:!0})],[{title:"JWT authentication",status:"complete",link:"/docs/reference/typegate/authentication#jwt-authentication",body:(0,s.jsx)(s.Fragment,{children:"Json Web Tokens can be used to attach more authentication and context information to requests. The data in the tokens can then be used by policies to make authorization decisions."})},(0,s.jsx)(p.A,{python:n(8980),typescript:n(37538),disablePlayground:!0})],[{title:"OAuth2 authorization",status:"complete",link:"/docs/reference/typegate/authentication#oauth2-authorization",body:(0,s.jsx)(s.Fragment,{children:"Use the Oauth2 scheme to implement social-sign in from common identity providers like Github, Meta and Google."})},(0,s.jsx)(p.A,{python:n(42422),typescript:n(23680),disablePlayground:!0})]]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(t.h2,{id:"tooling",children:"Tooling"}),"\n",(0,s.jsx)(c,{rows:[[{title:"Meta CLI",status:"complete",link:"/docs/reference/meta-cli",body:(0,s.jsx)(s.Fragment,{children:"Full-featured CLI to aid development and manage typegraph deployments on the typegate. Supports watch mode to aid rapid-iteration, including support for interactive database migration management. Bundles the typegate within it making the CLI all one needs to get started. (And a text editor, of course.)"})}],[(0,s.jsxs)(a.A,{language:"shell",children:["\u276f meta --help                                                                                    at 02:03:36\nDeclarative API development platform. Build backend components with WASM/Typescript/Python, no matter where and how your (legacy) systems are.\n\nUsage: meta [OPTIONS] [COMMAND]\n\nCommands: serialize Serialize the typegraphs defined in the specified python file(s) into JSON dev Push typegraph(s) with development mode features enabled deploy Push typegraph(s) to typegate undeploy Undeploy typegraph(s) from typegate gen Access metagen generators upgrade Upgrade completion Generate shell completion doctor Troubleshoot the installation new Create a new Metatype project typegate Access a minimal deno CLI help Print this message or the help of the given subcommand(s)\n\nOptions: --version -v, --verbose... Increase logging verbosity -q, --quiet... Decrease logging verbosity -C, --dir <DIR> [default: .] --config <CONFIG> path to the config file -h, --help Print help "," "]})],[{title:"Metagen",status:"beta",link:"#",body:(0,s.jsxs)(s.Fragment,{children:[" Code generation suite that supports Rust, Python and Typescript. Generate types from your graph and other helper functions for authoring custom functions for the Wasm, Python and Deno runtimes respectively. Can be accessed through the CLI under the ",(0,s.jsx)(t.code,{children:"gen"})," subcommand or through the different SDKs. "]})},(0,s.jsx)(t.div,{})],[{title:"Docker images",status:"complete",link:"https://github.com/orgs/metatypedev/packages/container/package/typegate",body:(0,s.jsxs)(s.Fragment,{children:[" The typegate is primarily distributed as a docker image for deployment as a container. All the available configuration environment variables can be found ",(0,s.jsx)(r.A,{to:"http://localhost:3000/docs/reference/typegate#environment-variables",children:"here"}),". "]})},{title:"Helm charts",status:"complete",link:"/docs/guides/self-hosting",body:(0,s.jsx)(s.Fragment,{children:" Helm charts are published to ease installation of a typegate deployment in your Kubernetes cluster. "})}],[(0,s.jsxs)(a.A,{language:"shell",children:[" ","docker run --rm --pull always \\ -p 7890:7890 \\ -e TG_SECRET=$(openssl rand -base64 64 | tr -d '\\n') \\ -e TG_ADMIN_PASSWORD=\"password\" \\ ghcr.io/metatypedev/typegate:latest"," "]})]]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(t.h2,{id:"sdks",children:"SDKs"}),"\n",(0,s.jsx)(c,{rows:[[{title:"Typescript SDK",status:"complete",link:"https://www.npmjs.com/package/@typegraph/sdk",body:(0,s.jsx)(s.Fragment,{children:"Use typescript to author typegraphs and access other SDK tooling. Supports Node and compatible runtimes like Deno and Bun."})},{title:"Python SDK",status:"complete",link:"http://localhost:3000/docs/reference/typegate#environment-variables",body:(0,s.jsx)(s.Fragment,{children:"Use Python to author typegraphs and access other SDK tooling."})},{title:"Dart SDK",status:"future",link:"https://www.npmjs.com/package/@typegraph/sdk",body:(0,s.jsx)(s.Fragment,{children:"Use Dart to author typegraphs and access other SDK tooling."})}],[{title:"Deployments",status:"complete",link:"/docs/guides/programmatic-deployment",body:(0,s.jsx)(s.Fragment,{children:"Programmatically upload your typegraphs to the typegate from within the SDK. Useful for writing tests or building on top of the Metatype platform."})},{title:"Migrations",status:"beta",link:"/docs/guides/programmatic-deployment",body:(0,s.jsx)(s.Fragment,{children:"Programmaticaly manage necessary migrations returned by the Prisma runtime. Useful for writing tests or building on top of the Metatype platform."})}],[{title:"Codegen",status:"beta",link:"/docs/guides/programmatic-deployment",body:(0,s.jsx)(s.Fragment,{children:"Access metagen through the SDK directly to generate type declarations and other helpful code. Useful for testing and to build custom workflows/tooling."})},(0,s.jsx)(t.div,{})]]})]})}function f(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(y,{...e})}):y(e)}},65671:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var s=n(98302),o=(n(30758),n(86070));function i(e){let{python:t,typescript:n,rust:i,...a}=e;const r=[t&&{content:t.content,codeLanguage:"python",codeFileUrl:t.path},n&&{content:n.content,codeLanguage:"typescript",codeFileUrl:n.path},i&&{content:i.content,codeLanguage:"rust",codeFileUrl:i.path}].filter((e=>!!e));return(0,o.jsx)(s.A,{code:0==r.length?void 0:r,...a})}},33175:e=>{e.exports={content:'@typegraph(\n)\ndef basic_authentication(g: Graph):\n  deno = DenoRuntime()\n  public = Policy.public()\n\n  ctx = t.struct({"username": t.string().optional()})\n\n  # highlight-next-line\n  g.auth(Auth.basic(["admin"]))\n\n  g.expose(\n    public,\n    get_context=deno.identity(ctx).apply(\n      {\n        "username": g.from_context("username"),\n      }\n    ),\n  )',path:"../examples/typegraphs/basic.py"}},26217:e=>{e.exports={content:'await typegraph(\n  {\n    name: "basic-authentication",\n  },\n  (g) => {\n    const deno = new DenoRuntime();\n    const pub = Policy.public();\n\n    const ctx = t.struct({\n      username: t.string().optional(),\n    });\n\n    // highlight-next-line\n    g.auth(Auth.basic(["admin"]));\n\n    g.expose({\n      get_context: deno\n        .identity(ctx)\n        .apply({\n          username: g.fromContext("username"),\n        })\n        .withPolicy(pub),\n    });\n  },\n);',path:"../examples/typegraphs/basic.ts"}},50864:e=>{e.exports={content:'# highlight-next-line\nfrom typegraph.providers.prisma import PrismaRuntime\n\n\n@typegraph(\n)\ndef database(g: Graph):\n  db = PrismaRuntime("database", "POSTGRES_CONN")\n  public = Policy.public()\n\n  message = t.struct(\n    {\n      # highlight-next-line\n      "id": t.integer(as_id=True, config=["auto"]),\n      "title": t.string(),\n      "body": t.string(),\n    },\n    # highlight-next-line\n    name="message",\n  )\n\n  g.expose(\n    public,\n    # highlight-next-line\n    create_message=db.create(message),\n    list_messages=db.find_many(message),\n  )',path:"../examples/typegraphs/database.py"}},74518:e=>{e.exports={content:'// highlight-next-line\nimport { PrismaRuntime } from "@typegraph/sdk/providers/prisma.ts";\n\nawait typegraph(\n  {\n    name: "database",\n  },\n  (g) => {\n    const db = new PrismaRuntime("database", "POSTGRES_CONN");\n    const pub = Policy.public();\n\n    const message = t.struct(\n      {\n        // highlight-next-line\n        id: t.integer({}, { asId: true, config: { auto: true } }),\n        title: t.string(),\n        body: t.string(),\n      },\n      // highlight-next-line\n      { name: "message" },\n    );\n\n    g.expose(\n      {\n        // highlight-next-line\n        create_message: db.create(message),\n        list_messages: db.findMany(message),\n      },\n      pub,\n    );\n  },\n);',path:"../examples/typegraphs/database.ts"}},38981:e=>{e.exports={content:'@typegraph(\n)\ndef deno(g: Graph):\n  deno = DenoRuntime()\n  public = Policy.public()\n\n  fib = deno.func(\n    t.struct({"n": t.float()}),\n    t.struct({"res": t.integer(), "ms": t.float()}),\n    code="""\n      ({ n }) => {\n        let a = 0, b = 1, c;\n        const start = performance.now();\n        for (\n          let i = 0;\n          i < Math.min(n, 10);\n          c = a + b, a = b, b = c, i += 1\n        );\n        return {\n          res: b,\n          ms: performance.now() - start,\n        };\n      }\n      """,\n  )\n\n  g.expose(\n    public,\n    compute_fib=fib,\n  )',path:"../examples/typegraphs/deno.py"}},27395:e=>{e.exports={content:'await typegraph(\n  {\n    name: "deno",\n  },\n  (g) => {\n    const deno = new DenoRuntime();\n    const pub = Policy.public();\n\n    const fib = deno.func(\n      t.struct({ n: t.float() }),\n      t.struct({ res: t.integer(), ms: t.float() }),\n      {\n        code: `\n            ({ n }) => {\n                let a = 0, b = 1, c;\n                const start = performance.now();\n                for (\n                    let i = 0;\n                    i < Math.min(n, 10);\n                    c = a + b, a = b, b = c, i += 1\n                );\n                return {\n                    res: b,\n                    ms: performance.now() - start,\n                };\n            }\n        `,\n      },\n    );\n\n    g.expose(\n      {\n        compute_fib: fib,\n      },\n      pub,\n    );\n  },\n);',path:"../examples/typegraphs/deno.ts"}},84986:e=>{e.exports={content:'from typegraph import typegraph, Policy, t, Graph\nfrom typegraph.graph.params import Cors\nfrom typegraph.runtimes import RandomRuntime\n\n\n@typegraph(\n)\ndef first_typegraph(g: Graph):\n  # declare runtimes and policies\n  random = RandomRuntime(reset=None)\n  public = Policy.public()\n\n  # declare types\n  message = t.struct(\n    {\n      "id": t.integer(),\n      "title": t.string(),\n      "user_id": t.integer(),\n    }\n  )\n\n  # expose them with policies\n  g.expose(\n    public,\n    # input \u2192 output via runtime function\n    get_message=random.gen(message),\n  )',path:"../examples/typegraphs/first-typegraph.py"}},24204:e=>{e.exports={content:'import { Policy, t, typegraph } from "@typegraph/sdk/index.ts";\nimport { RandomRuntime } from "@typegraph/sdk/runtimes/random.ts";\n\nawait typegraph(\n  {\n    name: "first-typegraph",\n  },\n  (g) => {\n    // declare runtimes and policies\n    const random = new RandomRuntime({});\n    const pub = Policy.public();\n\n    // declare types\n    const message = t.struct({\n      id: t.integer(),\n      title: t.string(),\n      user_id: t.integer(),\n    });\n\n    // expose them with policies\n    g.expose(\n      {\n        // input \u2192 output via runtime function\n        get_message: random.gen(message),\n      },\n      pub,\n    );\n  },\n);',path:"../examples/typegraphs/first-typegraph.ts"}},8980:e=>{e.exports={content:'@typegraph(\n)\ndef jwt_authentication(g: Graph):\n  deno = DenoRuntime()\n  public = Policy.public()\n\n  ctx = t.struct({"your_own_content": t.string().optional()})\n  # highlight-next-line\n  g.auth(Auth.hmac256("custom"))\n\n  g.expose(\n    get_context=deno.identity(ctx).apply(\n      {\n        "your_own_content": g.from_context("your_own_content"),\n      }\n    ),\n    default_policy=[public],\n  )',path:"../examples/typegraphs/jwt.py"}},37538:e=>{e.exports={content:'typegraph(\n  {\n    name: "jwt-authentication",\n  },\n  (g) => {\n    const deno = new DenoRuntime();\n    const pub = Policy.public();\n\n    const ctx = t.struct({\n      your_own_content: t.string().optional(),\n    });\n    // highlight-next-line\n    g.auth(Auth.hmac256("custom"));\n\n    g.expose(\n      {\n        get_context: deno.identity(ctx).apply({\n          your_own_content: g.fromContext("your_own_content"),\n        }),\n      },\n      pub,\n    );\n  },\n);',path:"../examples/typegraphs/jwt.ts"}},42422:e=>{e.exports={content:'@typegraph(\n)\ndef oauth2_authentication(g: Graph):\n  deno = DenoRuntime()\n  public = Policy.public()\n\n  ctx = t.struct({"exp": t.integer().optional()})\n\n  # highlight-start\n  g.auth(Auth.oauth2_github("openid profile email"))\n  # highlight-end\n\n  g.expose(\n    public,\n    get_context=deno.identity(ctx).apply(\n      {\n        "exp": g.from_context("exp"),\n      }\n    ),\n  )',path:"../examples/typegraphs/oauth2.py"}},23680:e=>{e.exports={content:'typegraph(\n  {\n    name: "oauth2-authentication",\n  },\n  (g) => {\n    const deno = new DenoRuntime();\n    const pub = Policy.public();\n\n    const ctx = t.struct({ exp: t.integer().optional() });\n\n    // highlight-start\n    g.auth(Auth.oauth2Github("openid profile email"));\n    // highlight-end\n\n    g.expose(\n      {\n        get_context: deno.identity(ctx).apply({\n          exp: g.fromContext("exp"),\n        }),\n      },\n      pub,\n    );\n  },\n);',path:"../examples/typegraphs/oauth2.ts"}},85775:e=>{e.exports={content:'deno = DenoRuntime()\nrandom = RandomRuntime(seed=0, reset=None)\n\n# `public` is sugar for to `() => true`\npublic = Policy.public()\n\nadmin_only = deno.policy(\n  "admin_only",\n  # note: policies either return true | false | null\n  "(args, { context }) => context.username ? context.username === \'admin\' : null",\n)\nuser_only = deno.policy(\n  "user_only",\n  "(args, { context }) => context.username ? context.username === \'user\' : null",\n)\n\ng.auth(Auth.basic(["admin", "user"]))\n\ng.expose(\n  # set default policy for the exposed functions\n  Policy.public(),\n  public=random.gen(t.string()).with_policy(public),\n  admin_only=random.gen(t.string()).with_policy(admin_only),\n  user_only=random.gen(t.string()).with_policy(user_only),\n  # if both policies return null, access is denied\n  both=random.gen(t.string()).with_policy(user_only, admin_only),\n)',path:"../examples/typegraphs/policies.py"}},22481:e=>{e.exports={content:'const deno = new DenoRuntime();\nconst random = new RandomRuntime({ seed: 0 });\n// `public` is sugar for `(_args, _ctx) => true`\nconst pub = Policy.public();\n\nconst admin_only = deno.policy(\n  "admin_only",\n  // note: policies either return true | false | null\n  "(args, { context }) => context.username ? context.username === \'admin\' : null",\n);\nconst user_only = deno.policy(\n  "user_only",\n  "(args, { context }) => context.username ? context.username === \'user\' : null",\n);\n\ng.auth(Auth.basic(["admin", "user"]));\n\ng.expose(\n  {\n    public: random.gen(t.string()).withPolicy(pub),\n    admin_only: random.gen(t.string()).withPolicy(admin_only),\n    user_only: random.gen(t.string()).withPolicy(user_only),\n    // if both attached policies return null, access is denied\n    both: random.gen(t.string()).withPolicy([user_only, admin_only]),\n    // set default policy for the exposed functions\n  },\n  pub,\n);',path:"../examples/typegraphs/policies.ts"}}}]);