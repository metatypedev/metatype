"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2920],{65977:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var i=n(86070),r=n(25710);const s={},o="Introducing gRPC Runtime",a={permalink:"/blog/2024/09/26/introducing-grpc-runtime",editUrl:"https://github.com/metatypedev/metatype/tree/main/docs/metatype.dev/blog/2024-09-26-introducing-grpc-runtime/index.mdx",source:"@site/blog/2024-09-26-introducing-grpc-runtime/index.mdx",title:"Introducing gRPC Runtime",description:"We're excited to announce the new gRPC Runtime feature in Metatype, further enhancing our platform's ability to create versatile and powerful backends through typegraphs.",date:"2024-09-26T00:00:00.000Z",tags:[],readingTime:4.4,hasTruncateMarker:!1,authors:[],frontMatter:{},unlisted:!1,nextItem:{title:"Distributed execution flow paradigms",permalink:"/blog/2024/08/27/distributed-execution-flow-paradigms"}},l={authorsImageUrls:[]},c=[{value:"What is gRPC?",id:"what-is-grpc",level:2},{value:"Why gRPC Matters for Metatype",id:"why-grpc-matters-for-metatype",level:2},{value:"Diagram: gRPC and Metatype Integration",id:"diagram-grpc-and-metatype-integration",level:2},{value:"Introducing gRPC Runtime in Metatype",id:"introducing-grpc-runtime-in-metatype",level:2},{value:"Key Technical Details",id:"key-technical-details",level:2},{value:"Architecture",id:"architecture",level:3},{value:"Implementation",id:"implementation",level:3},{value:"Benefits for Developers",id:"benefits-for-developers",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Conclusion",id:"conclusion",level:2}];function h(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"We're excited to announce the new gRPC Runtime feature in Metatype, further enhancing our platform's ability to create versatile and powerful backends through typegraphs."}),"\n",(0,i.jsx)(t.h2,{id:"what-is-grpc",children:"What is gRPC?"}),"\n",(0,i.jsxs)(t.p,{children:["gRPC, or ",(0,i.jsx)(t.strong,{children:"g"}),"oogle ",(0,i.jsx)(t.strong,{children:"R"}),"emote ",(0,i.jsx)(t.strong,{children:"P"}),"rocedure ",(0,i.jsx)(t.strong,{children:"C"}),"all, is a high-performance, open-source communication framework initially developed by Google. It enables ",(0,i.jsx)(t.strong,{children:"efficient and fast communication between microservices"})," in a distributed system, making it ideal for modern backend architectures."]}),"\n",(0,i.jsxs)(t.p,{children:["Unlike traditional HTTP APIs that use JSON, gRPC relies on ",(0,i.jsx)(t.strong,{children:"Protocol Buffers"})," (protobufs) for serializing data, which are more compact and faster to process. This approach allows gRPC to support high-throughput, low-latency communication, which is crucial for applications where speed and efficiency matter, such as in real-time data processing or large-scale distributed systems."]}),"\n",(0,i.jsx)(t.p,{children:"Key benefits of gRPC include:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Cross-language support"}),": gRPC supports multiple programming languages, allowing services written in different languages to communicate seamlessly."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Strong type safety"}),": Protocol Buffers ensure type-safe communication, catching errors early and improving reliability."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Bidirectional streaming"}),": gRPC allows for client and server streaming, enabling continuous data transfer in both directions, ideal for applications like real-time analytics."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"In short, gRPC is well-suited for high-performance, scalable backend systems where speed and type safety are essential."}),"\n",(0,i.jsx)(t.h2,{id:"why-grpc-matters-for-metatype",children:"Why gRPC Matters for Metatype"}),"\n",(0,i.jsxs)(t.p,{children:["Metatype is a platform that enables developers to create ",(0,i.jsx)(t.strong,{children:"typegraphs"}),"\u2014strongly-typed, composable backend structures that can support multiple protocols and runtime environments. With the introduction of the gRPC Runtime, Metatype allows developers to incorporate gRPC services into these typegraphs, further enhancing the platform\u2019s versatility."]}),"\n",(0,i.jsx)(t.p,{children:"By integrating gRPC, Metatype empowers developers to:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Expose gRPC services via GraphQL or HTTP endpoints"}),", making them accessible to clients in a way that best suits their needs."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Compose gRPC services with other backend components"}),", such as databases or other APIs, to create powerful and cohesive backend systems."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"diagram-grpc-and-metatype-integration",children:"Diagram: gRPC and Metatype Integration"}),"\n",(0,i.jsx)("center",{children:(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"gRPC and Metatype Integration Diagram",src:n(15602).A+"",width:"161",height:"681"})})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:"Metatype\u2019s gRPC Runtime allows developers to integrate gRPC services into their typegraphs, enabling seamless interaction with gRPC services in the backend."})}),"\n",(0,i.jsx)(t.h2,{id:"introducing-grpc-runtime-in-metatype",children:"Introducing gRPC Runtime in Metatype"}),"\n",(0,i.jsx)(t.p,{children:"The new gRPC Runtime is the latest addition to Metatype's suite of runtimes, joining existing options like the HTTP runtime. This expansion allows you to incorporate gRPC services into your typegraphs, further enhancing the versatility of your Metatype-powered backends."}),"\n",(0,i.jsx)(t.h2,{id:"key-technical-details",children:"Key Technical Details"}),"\n",(0,i.jsx)(t.h3,{id:"architecture",children:"Architecture"}),"\n",(0,i.jsx)(t.p,{children:"The gRPC Runtime integrates seamlessly with Metatype's existing architecture. It acts as a bridge between your typegraph and external gRPC services, allowing you to incorporate gRPC calls alongside other runtime operations in your backend logic."}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"GrpcRuntime Class"}),": The main interface for defining gRPC interactions within your typegraph."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"proto_file"}),": Path to the .proto file that defines the gRPC service."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"endpoint"}),": The gRPC server address in the format ",(0,i.jsx)(t.code,{children:"tcp://<host>:<port>"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"call method"}),": Creates a typegraph function for gRPC method calls."]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"implementation",children:"Implementation"}),"\n",(0,i.jsx)(t.p,{children:"Here's how the gRPC Runtime fits into a Metatype typegraph:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'from typegraph import Graph, Policy, typegraph\nfrom typegraph.graph.params import Cors\nfrom typegraph.runtimes.grpc import GrpcRuntime\n\n@typegraph(\n    cors=Cors(allow_origin=["https://metatype.dev", "http://localhost:3000"]),\n)\ndef create_grpc_typegraph(g: Graph):\n    # The GrpcRuntime acts as a bridge between your typegraph and external gRPC services\n    grpc_runtime = GrpcRuntime(\n        # proto_file: Path to the .proto file that defines the gRPC service\n        proto_file="proto/helloworld.proto",\n        # endpoint: The gRPC server address in the format tcp://<host>:<port>\n        endpoint="tcp://localhost:4770"\n    )\n\n    # Expose the gRPC service within your typegraph\n    # This allows you to incorporate gRPC calls alongside other runtime operations\n    g.expose(\n        Policy.public(),\n        # call method: Creates a typegraph function for gRPC method calls\n        # It uses the full path to the gRPC method: /package_name.service_name/method_name\n        greet=grpc_runtime.call("/helloworld.Greeter/SayHello"),\n    )\n\n# The typegraph can now be exposed via GraphQL or HTTP,\n# allowing clients to interact with the gRPC service through Metatype\'s unified interface\n'})}),"\n",(0,i.jsx)(t.p,{children:"This implementation demonstrates how the gRPC Runtime integrates with your typegraph, allowing you to:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Define gRPC service connections using the GrpcRuntime class"}),"\n",(0,i.jsx)(t.li,{children:"Expose gRPC methods as part of your typegraph"}),"\n",(0,i.jsx)(t.li,{children:"Combine gRPC functionality with other Metatype features and runtimes"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"By structuring your gRPC interactions this way, you can seamlessly incorporate gRPC services into your larger Metatype-powered backend, alongside other data sources and business logic."}),"\n",(0,i.jsx)(t.h2,{id:"benefits-for-developers",children:"Benefits for Developers"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Unified Backend Structure"}),": Incorporate gRPC services alongside other protocols and data sources in a single, coherent typegraph."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Type Safety"}),": Leverage Metatype's strong typing system in conjunction with gRPC's protocol buffers for end-to-end type safety."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Flexible Exposure"}),": Easily expose your gRPC services via GraphQL or HTTP endpoints, allowing clients to interact with them using their preferred protocol."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Composability"}),": Combine gRPC calls with other runtime operations, database queries, or business logic within your typegraph."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,i.jsx)(t.p,{children:"To start using the gRPC Runtime in your Metatype project:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Ensure you have the latest version of Metatype installed."}),"\n",(0,i.jsx)(t.li,{children:"Prepare your .proto files for the gRPC services you want to integrate."}),"\n",(0,i.jsx)(t.li,{children:"Set up your typegraph as shown in the example above, incorporating the GrpcRuntime."}),"\n",(0,i.jsx)(t.li,{children:"Configure your Metatype backend to expose the typegraph via GraphQL or HTTP as needed."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,i.jsx)(t.p,{children:"The addition of the gRPC Runtime to Metatype further solidifies its position as a comprehensive platform for building robust, type-safe backends. By allowing seamless integration of gRPC services alongside other protocols and data sources, Metatype empowers developers to create versatile and powerful backend systems with ease."}),"\n",(0,i.jsxs)(t.p,{children:["For more detailed documentation, code examples, and best practices, check out our ",(0,i.jsx)(t.a,{href:"https://metatype.dev/docs",children:"official Metatype docs"}),"#."]})]})}function p(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},15602:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/GrpcMetatype.drawio-e6e626affae448f5b44a48ab82805ee9.png"}}]);