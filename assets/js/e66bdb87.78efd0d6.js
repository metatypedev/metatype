(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4591],{98474:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>l,toc:()=>m});var i=t(86070),r=t(25710),a=t(93214),s=t(92465),o=t(51510);const d={},c="Random",l={id:"reference/runtimes/random/index",title:"Random",description:"Random runtime",source:"@site/docs/reference/runtimes/random/index.mdx",sourceDirName:"reference/runtimes/random",slug:"/reference/runtimes/random/",permalink:"/docs/reference/runtimes/random/",draft:!1,unlisted:!1,editUrl:"https://github.com/metatypedev/metatype/tree/main/website/docs/reference/runtimes/random/index.mdx",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Python",permalink:"/docs/reference/runtimes/python/"},next:{title:"S3",permalink:"/docs/reference/runtimes/s3/"}},u={},m=[{value:"Random runtime",id:"random-runtime",level:2},{value:"Generators",id:"generators",level:2}];function p(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"random",children:"Random"}),"\n",(0,i.jsx)(n.h2,{id:"random-runtime",children:"Random runtime"}),"\n",(0,i.jsxs)(n.p,{children:["The Random runtime allows you to produce ",(0,i.jsx)(n.em,{children:"structured"})," datas randomly."]}),"\n",(0,i.jsx)(n.p,{children:"One use case is to use this runtime as way of testing, for example you can rapidly draft a small backend that produces structured data for your frontend application."}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"seed"})," parameter ensures repeatability if set."]}),"\n",(0,i.jsx)(a.A,{python:t(84590),typescript:t(60936),typegraph:"roadmap-random",query:t(51221)}),"\n",(0,i.jsx)(n.p,{children:"Another use case is to inject random values to a function input"}),"\n",(0,i.jsx)(a.A,{typegraph:"random-field",python:t(98996),typescript:t(99266),query:t(50230)}),"\n",(0,i.jsx)(n.h2,{id:"generators",children:"Generators"}),"\n",(0,i.jsxs)(n.p,{children:["Here is a list of some standard generators that you can attach to your type, if ",(0,i.jsx)(n.em,{children:"unspecifed"}),", it will default on generating any values that the associated type can hold."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Generator config"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"t.string()"})}),(0,i.jsxs)(n.td,{style:{textAlign:"center"},children:[(0,i.jsx)(n.code,{children:"name"}),", ",(0,i.jsx)(n.code,{children:"address"}),", ",(0,i.jsx)(n.code,{children:"postcode"}),", ",(0,i.jsx)(n.code,{children:"country"}),", ",(0,i.jsx)(n.code,{children:"email"}),", ",(0,i.jsx)(n.code,{children:"uuid"}),", ",(0,i.jsx)(n.code,{children:"uri"}),", ",(0,i.jsx)(n.code,{children:"hostname"}),", ",(0,i.jsx)(n.code,{children:"date"}),", ",(0,i.jsx)(n.code,{children:"time"}),", ",(0,i.jsx)(n.code,{children:"phone"}),", ",(0,i.jsx)(n.code,{children:"ean"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"t.integer()"}),", ",(0,i.jsx)(n.code,{children:"t.float()"})]}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:(0,i.jsx)(n.code,{children:"age"})})]})]})]}),"\n",(0,i.jsxs)(s.Ay,{children:[(0,i.jsx)(o.A,{value:"python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'user = t.struct(\n    {\n        "id": t.uuid(),  # random uuid\n        "name": t.string(config={"gen": "name"}), # random name\n        "age": t.integer(config={"gen": "age", "type": "adult"}), # type: "child", "adult"\n        "email": t.email(),\n        "address": t.struct(\n            {\n                "street": t.string(config={"gen": "address"}),\n                "city": t.string(config={"gen": "city"}),\n                "postcode": t.string(config={"gen": "postcode"}),\n                "country": t.string(config={"gen": "country", "full": True}),\n            }\n        ),\n    }\n)\n'})})}),(0,i.jsx)(o.A,{value:"typescript",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'const user = t.struct(\n    {\n        id: t.uuid(),  // random uuid\n        name: t.string({}, { config: { gen: "name" } }), // random name\n        age: t.integer({}, { config: { gen: "age", type: "adult" } }), // type: "child", "adult"\n        email: t.email(),\n        address: t.struct(\n            {\n                street: t.string({}, { config: { gen: "address" } }),\n                city: t.string({}, { config: { gen: "city" } }),\n                postcode: t.string({}, { config: { gen: "postcode"} }),\n                country: t.string({}, { config: { gen: "country", full: true } }),\n            }\n        ),\n    }\n)\n'})})})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},92465:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>s,gc:()=>o});t(30758);var i=t(53096),r=t(43236),a=t(86070);function s(e){let{children:n}=e;const[t,s]=(0,i.e)();return(0,a.jsx)(r.mS,{choices:{typescript:"Typescript SDK",python:"Python SDK"},choice:t,onChange:s,children:n})}function o(e){let{children:n}=e;const[t]=(0,i.e)();return(0,a.jsx)(r.q9,{choices:{typescript:"Typescript SDK",python:"Python SDK"},choice:t,children:n})}},50230:e=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"bonus1"},name:{kind:"Name",value:"get_bonus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"performance"},value:{kind:"IntValue",value:"200"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"bonus2"},name:{kind:"Name",value:"get_bonus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"performance"},value:{kind:"IntValue",value:"27"}}],directives:[]}]}}],loc:{start:0,end:105}};n.loc.source={body:"query {\n  bonus1: get_bonus(\n    performance: 200\n    )\n  bonus2: get_bonus(\n    performance: 27\n    )\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},51221:e=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"get_idea"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorEmail"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:76}};n.loc.source={body:"query {\n    get_idea {\n        id\n        # name\n        authorEmail\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},98996:e=>{e.exports={content:"",path:"examples/typegraphs/random-field.py"}},99266:e=>{e.exports={content:'import { Policy, t, typegraph } from "@typegraph/sdk/index.js";\nimport { DenoRuntime } from "@typegraph/sdk/runtimes/deno.js";\n\ntypegraph({\n  name: "random-field",\n}, (g) => {\n  const deno = new DenoRuntime();\n  const pub = Policy.public();\n\n  const bonusItems = t.list(t.enum_(["+1 gold", "+1 metal"]));\n  const dailyBonus = t.struct(\n    {\n      performance: t.integer(),\n      bonus: bonusItems.fromRandom(), // this field is now generated randomly\n    },\n  );\n\n  // set a custom seed\n  g.configureRandomInjection({ seed: 1234 });\n\n  g.expose({\n    get_bonus: deno.func(\n      dailyBonus,\n      t.string(),\n      {\n        code: ({ performance, bonus }) =>\n          `Daily bonus: ${(performance > 100 ? bonus : ["none"]).join(", ")}`,\n      },\n    ),\n  }, pub);\n});',path:"examples/typegraphs/random-field.ts"}},84590:e=>{e.exports={content:"",path:"examples/typegraphs/roadmap-random.py"}},60936:e=>{e.exports={content:'import { Policy, t, typegraph } from "@typegraph/sdk/index.js";\nimport { RandomRuntime } from "@typegraph/sdk/runtimes/random.js";\n\n\ntypegraph({\n  name: "roadmap-random",\n}, (g) => {\n\n  const idea = t.struct(\n    {\n      "id": t.uuid({ asId: true }), // uuid is just a shorthand alias for `t.string({}, {{format: "uuid"}: undefined})`\n      "name": t.string(),\n      "authorEmail": t.email(), // another string shorthand\n    },\n  );\n\n  const random = new RandomRuntime({ seed: 1 });\n  const pub = Policy.public();\n  g.expose({ get_idea: random.gen(idea) }, pub);\n});',path:"examples/typegraphs/roadmap-random.ts"}}}]);