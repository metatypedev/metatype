# for e2e tests
# TODO : isolate inside a folder

typegates:
  deploy7895: &deploy
    url: "http://localhost:7895"
    username: admin
    password: password
    env:
      TG_PRISMA_POSTGRES: "postgresql://postgres:password@localhost:5432/db?schema=e2e"
      TG_MIGRATION_FAILURE_TEST_POSTGRES: "postgresql://postgres:password@localhost:5432/db?schema=e2e2"


  deploy7896:
    <<: *deploy
    url: "http://localhost:7896"

  deploy7897:
    <<: *deploy
    url: "http://localhost:7897"

  with_prefix:
    url: "http://localhost:7894"
    username: admin
    password: password
    env:
      TG_PRISMA_POSTGRES: "postgresql://postgres:password@localhost:5432/db?schema=e2e"
    prefix: pref-

  dev:
    url: "http://localhost:7890"
    username: admin
    password: password
    env: 
      TG_MIGRATION_FAILURE_TEST_POSTGRES: "postgresql://postgres:password@localhost:5432/db?schema=e2e2"

typegraphs:
  materializers:
    prisma:
      migrations_path: "prisma-migrations"
