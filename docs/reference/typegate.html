<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-docs docs-version-current docs-doc-page docs-doc-id-reference/typegate/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Typegate | Metatype</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://metatype.dev/docs/reference/typegate"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs-current"><meta data-rh="true" property="og:title" content="Typegate | Metatype"><meta data-rh="true" name="description" content="Typegate version"><meta data-rh="true" property="og:description" content="Typegate version"><link data-rh="true" rel="icon" href="/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://metatype.dev/docs/reference/typegate"><link data-rh="true" rel="alternate" href="https://metatype.dev/docs/reference/typegate" hreflang="en"><link data-rh="true" rel="alternate" href="https://metatype.dev/docs/reference/typegate" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Metatype RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Metatype Atom Feed">






<link rel="preconnect" href="https://eu.posthog.com">
<script>!function(t,e){var o,p,i,n;e.__SV||(window.posthog=e,e._i=[],e.init=function(r,s,c){function a(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(i=t.createElement("script")).type="text/javascript",i.async=!0,i.src=s.api_host+"/static/array.js",(n=t.getElementsByTagName("script")[0]).parentNode.insertBefore(i,n);var u=e;for(void 0!==c?u=e[c]=[]:c="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==c&&(e+="."+c),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset".split(" "),p=0;p<o.length;p++)a(u,o[p]);e._i.push([r,s,c])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_xeoqjAATkOtdpBmixBDIbLp6wCDSo87kAjdKCILQc8U",{api_host:"https://eu.posthog.com",persistence:"memory",id:"default"})</script>



<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&amp;display=swap"><link rel="stylesheet" href="/assets/css/styles.85e147a4.css">
<script src="/assets/js/runtime~main.e36d8917.js" defer="defer"></script>
<script src="/assets/js/main.6cb24213.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_F85g" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/logo.svg" alt="Metatype Logo" class="themedComponent_OxHS themedComponent--light_UcVs"><img src="/images/logo.svg" alt="Metatype Logo" class="themedComponent_OxHS themedComponent--dark_iXgk"></div><b class="navbar__title text--truncate">Metatype</b></a><a class="navbar__item navbar__link" href="/use-cases/automatic-crud-validation">Use cases</a><a class="navbar__item navbar__link" href="/docs/concepts/features-overview">Features</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/metatypedev/metatype" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><a href="https://communityinviter.com/apps/metatypedev/invite" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-slack-link"></a><div class="navbarSearchContainer_Xle_"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_hxCl"><div class="docsWrapper_APYC"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_DY9W" type="button"></button><div class="docRoot_KHIR"><aside class="theme-doc-sidebar-container docSidebarContainer_Z7wb"><div class="sidebarViewport_eDNB"><div class="sidebar_UJ0C"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_muKz"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Getting started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/tutorials/quick-start">Tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/quick-start">Quick-start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/metatype-basics">Metatype Basics</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/guides/external-functions">How-to guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/reference/types">Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/reference/types">Types</a><button aria-label="Expand sidebar category &#x27;Types&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/reference/runtimes">Runtimes</a><button aria-label="Expand sidebar category &#x27;Runtimes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/policies">Policies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/ecosystem">Ecosystem</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/rest">REST</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/typegraph">Typegraph</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/docs/reference/typegate">Typegate</a><button aria-label="Collapse sidebar category &#x27;Typegate&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/typegate/authentication">Authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/typegate/cors">CORS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/typegate/rate-limiting">Rate limiting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/typegate/synchronization">Synchronization</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/reference/meta-cli">Meta CLI</a><button aria-label="Expand sidebar category &#x27;Meta CLI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/metagen">Metagen</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/changelog">Changelog</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/concepts/features-overview">Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/features-overview">Features overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/mental-model">Mental model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/comparisons">Comparing Metatype</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/concepts/RFCs">RFCs</a><button aria-label="Expand sidebar category &#x27;RFCs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_RdNv"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DTl0"><div class="docItemContainer_Ft1u"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_UHQx" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_fZRh"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Typegate</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_hQIt theme-doc-toc-mobile tocMobile_SPBY"><button type="button" class="clean-btn tocCollapsibleButton_lmFW">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Typegate</h1>
<p><a href="https://github.com/metatypedev/metatype/pkgs/container/typegate" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://ghcr-badge.deta.dev/metatypedev/typegate/latest_tag?trim=major&amp;label=typegate" alt="Typegate version" class="img_QSfo"></a></p>
<h3 class="anchor anchorWithStickyNavbar_fjGl" id="using-embedded-typegate-recommended">Using Embedded Typegate (Recommended)<a href="#using-embedded-typegate-recommended" class="hash-link" aria-label="Direct link to Using Embedded Typegate (Recommended)" title="Direct link to Using Embedded Typegate (Recommended)">​</a></h3>
<p>The <em>Meta_CLI</em> comes with an embedded typegate packaged inside it. A <a href="/docs/reference/typegate">typegate</a> instance is where you deploy your <a href="/docs/reference/typegraph">typegraphs</a> where any logic written in them is exposed via an HTTP or GraphQL endpoints. You can run an embedded typegate node from the terminal, but you first need to set a couple of environment variables which are needed to instantiate the typegate node.</p>
<p>Set the <code>tg_admin_password</code> and <code>tg_secret</code> environment variables. You can use the following command to configure a sample value for the variables and test the embedded typegate.</p>
<div class="language-shell codeBlockContainer_FJ0j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__HQP"><pre tabindex="0" class="prism-code language-shell codeBlock_pT6U thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_SvQ5"><span class="token-line" style="color:#393A34"><span class="token plain">export tg_secret=a4lNi0PbEItlFZbus1oeH/+wyIxi9uH6TpL8AIqIaMBNvp7SESmuUBbfUwC0prxhGhZqHw8vMDYZAGMhSZ4fLw== tg_admin_password=password</span><br></span></code></pre><div class="buttonGroup_IhKN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_JO31" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_zhOa"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_N4_T"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you have not installed <em>Meta_CLI</em> or you have downloaded the <em>thin</em> version, you can check <a href="/docs/reference/meta-cli#Installation">this</a> installation guide of the <em>CLI</em>.</p>
<p>Everything is setup to run the embedded typegate. Just run the following command below.</p>
<div class="language-shell codeBlockContainer_FJ0j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__HQP"><pre tabindex="0" class="prism-code language-shell codeBlock_pT6U thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_SvQ5"><span class="token-line" style="color:#393A34"><span class="token plain">meta typegate</span><br></span></code></pre><div class="buttonGroup_IhKN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_JO31" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_zhOa"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_N4_T"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The typegate instance runs on port <code>7890</code> by default. You can check if the typegate node is running by accessing <a href="http://localhost:7890" target="_blank" rel="noopener noreferrer">http://localhost:7890</a> in your browser.</p>
<h3 class="anchor anchorWithStickyNavbar_fjGl" id="using-docker">Using Docker<a href="#using-docker" class="hash-link" aria-label="Direct link to Using Docker" title="Direct link to Using Docker">​</a></h3>
<p>Install <a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker</a> and use the following <code>compose.yml</code> to launch a typegate node. For multi-instance production workloads, Redis and an S3 object store provider are required but the typegate will run using in-memory stores if no <code>SYNC_*</code> environment variable is detected. More details can be found <a href="/docs/reference/typegate/synchronization">here</a>. In practice you might also want to add a database or other systems that the typegate can connect to.</p>
<div class="language-yml codeBlockContainer_FJ0j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__HQP"><pre tabindex="0" class="prism-code language-yml codeBlock_pT6U thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_SvQ5"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">typegate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ghcr.io/metatypedev/typegate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;7890:7890&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">extra_hosts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;host.docker.internal:host-gateway&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># only for dev, generate secure values for production</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">TG_SECRET</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;a4lNi0PbEItlFZbus1oeH/+wyIxi9uH6TpL8AIqIaMBNvp7SESmuUBbfUwC0prxhGhZqHw8vMDYZAGMhSZ4fLw==&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">TG_ADMIN_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">DEBUG</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;true&quot;</span><br></span></code></pre><div class="buttonGroup_IhKN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_JO31" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_zhOa"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_N4_T"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_FJ0j theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent__HQP"><pre tabindex="0" class="prism-code language-bash codeBlock_pT6U thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_SvQ5"><span class="token-line" style="color:#393A34"><span class="token plain"># launch the containers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker compose up --detach</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># watch the typegate logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker compose logs typegate --follow</span><br></span></code></pre><div class="buttonGroup_IhKN"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_JO31" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_zhOa"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_N4_T"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_fjGl" id="internal-apis">Internal APIs<a href="#internal-apis" class="hash-link" aria-label="Direct link to Internal APIs" title="Direct link to Internal APIs">​</a></h2>
<p>Most of the internal APIs are still unstable, and may change without notice. If you still want to experiment with them, you can use the GraphQL introspection to discover them.</p>
<ul>
<li>/typegate</li>
<li>/prisma-migration</li>
</ul>
<p>The typegate nodes - or typegates - are the central components of the ecosystems. They build and type check typegraphs, and expose them through a HTTP/GraphQL interface. They enforce the type safety of the data flows, connect to all the runtimes and orchestrate the execution of incoming requests.</p>
<h2 class="anchor anchorWithStickyNavbar_fjGl" id="request-lifecycle">Request lifecycle<a href="#request-lifecycle" class="hash-link" aria-label="Direct link to Request lifecycle" title="Direct link to Request lifecycle">​</a></h2>
<p>When a new request fires a trigger, the typegate orchestrates the following stages:</p>
<ol>
<li>extract the secure request context from custom authentication or JSON Web Token (JWT)</li>
<li>retrieve cached execution plan or compute a new one<!-- -->
<ul>
<li>traverse the typegraph to create a DAG of the required types</li>
<li>optimize the DAG to reduce the number of calls to the runtimes</li>
<li>pre-compute all structural elements and data resolutions</li>
</ul>
</li>
<li>execute the plan<!-- -->
<ul>
<li>type check the arguments</li>
<li>verify lazily policies on the need</li>
<li>run the DAG execution</li>
<li>enforce the rate-limiting</li>
<li>type check the response</li>
</ul>
</li>
<li>manage metadata of the request</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_fjGl" id="httpgraphql-interface">HTTP/GraphQL interface<a href="#httpgraphql-interface" class="hash-link" aria-label="Direct link to HTTP/GraphQL interface" title="Direct link to HTTP/GraphQL interface">​</a></h2>
<p>For now, the typegate nodes are only accessible through HTTP/1.1 and HTTP/2. More protocols could be supported in the future. Typegates expose a GraphQL interface which is the result of a <a href="/docs/reference/typegraph">typegraph</a> projected onto corresponding GraphQL types. While this reduces the type safety of the data flowing, it makes more interoperable thanks to the many high-quality and well-known GraphQL tooling already available. The underlying types are also exposed in order for API clients to verify the underlying types.</p>
<p>GraphQL, being a query language, offers a great asset for Metatype&#x27;s philosophy:</p>
<ol>
<li>Efficient querying: the client can specify exactly what data it needs, reducing the amount of over- or under-fetching</li>
<li>Flexibility: allows for retrieving multiple resources in a single request, unlike REST, which often requires multiple ones</li>
<li>Typing: GraphQL has a built-in type system that allows for better documentation and stronger validation of the requests</li>
<li>Improved tooling: tools and libraries around GraphQL are rapidly growing and great a development experience</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_fjGl" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_fjGl" id="environment-variables">Environment variables.<a href="#environment-variables" class="hash-link" aria-label="Direct link to Environment variables." title="Direct link to Environment variables.">​</a></h3>
<p>The following environment variables can be used to configure the typegate. <code>SYNC_*</code> variables have special semantics which you can read about <a href="/docs/reference/typegate/synchronization">here</a>.</p>
<table><thead><tr><th>Environment variables</th><th>Desc</th><th>Default</th><th>Examples</th></tr></thead><tbody><tr><td>HOSTNAME</td><td>Hostname that typegate is deployed on.</td><td><code>getHostname()</code> result.</td><td><code>typegate-123</code></td></tr><tr><td>TG_PORT</td><td>Tcp port to serve typegate APIs at.</td><td>7890</td><td>7891</td></tr><tr><td>TG_ADMIN_PASSWORD</td><td>Password use by the CLI/SDK to configure the typegate.</td><td><strong>Required</strong></td><td>My5up3r53cr37</td></tr><tr><td>TG_SECRET</td><td>Symmetric key used to encrypt cookies and other things (64-byte binary string encoded in base64).</td><td><strong>Required</strong>.</td><td>0p64wJCpQCTiPqPOEze92HLBieszD3sGLtnx6tWm67kqo1tCYcNZ17rjFjEzMl7HJ/SOFZsTVWU0fUjndMrhsQ==</td></tr><tr><td>TMP_DIR</td><td>Top-level temporary directory.</td><td><code>$PWD/tmp</code></td><td><code>/tmp/typegate-tmp-dir</code></td></tr><tr><td>DEBUG</td><td>Enable debug output and other development paths.</td><td>false</td><td>true</td></tr><tr><td>TIMER_MAX_TIMEOUT_MS</td><td>Timeout for custom runtime functions and other proccesses.</td><td>3000</td><td>5000</td></tr><tr><td>TIMER_POLICY_EVAL_RETRIES</td><td>Number of retries when evaluating policies that have timed out</td><td>1</td><td>3</td></tr><tr><td>TIMER_DESTROY_RESOURCES</td><td>Force abort and attempt to restart operations that did not respond after multiple retries</td><td>true</td><td>false</td></tr><tr><td>JWT_MAX_DURATION_SEC</td><td>The lifetime of generated JWT access tokens.</td><td><code>30 * 24 * 3600</code></td><td><code>604800</code></td></tr><tr><td>JWT_REFRESH_DURATION_SEC</td><td>The lifetime of generated JWT refresh tokens.</td><td><code>5 * 60</code></td><td><code>600</code></td></tr><tr><td>SENTRY_DSN</td><td>Data source name for sentry</td><td><code>null</code></td><td><code>https://public@sentry.example.com/1</code></td></tr><tr><td>SENTRY_SAMPLE_RATE</td><td>The rate of error events to be sent to Sentry (between 0.0 and 1.0)</td><td>1.0</td><td>0.5</td></tr><tr><td>SENTRY_TRACES_SAMPLE_RATE</td><td>The rate of transactions be sent to Sentry (between 0.0 and 1.0)</td><td>1.0</td><td>0.2</td></tr><tr><td>TRUST_PROXY</td><td>Whether to accept proxy headers when resolving request contexts.</td><td>false</td><td>true</td></tr><tr><td>TRUST_HEADER_IP</td><td>The header key on which to resolve request origin addresses.</td><td>X-Forwarded-For</td><td>X-Forwarded-For</td></tr><tr><td>DENO_V8_FLAGS</td><td>Flags for tuning the v8 javascript engine. Use the <code>--help</code> flag here to see what options are available.</td><td></td><td><code>--stack-size=1968</code></td></tr><tr><td>SYNC_REDIS_URL</td><td>URL to the Redis database. Must include the database number.</td><td>**Required (sync mode)</td><td><code>http://:password@localhost:6379/0</code></td></tr><tr><td>SYNC_S3_HOST</td><td>Hostname of the S3 store.</td><td>**Required (sync mode)</td><td><code>play.min.io:9000</code></td></tr><tr><td>SYNC_S3_REGION</td><td>S3 region.</td><td><strong>Required (sync mode)</strong></td><td><code>us-west-2</code></td></tr><tr><td>SYNC_S3_ACCESS_KEY</td><td>Access key for the S3 store credentials.</td><td><strong>Required (sync mode)</strong></td><td>user</td></tr><tr><td>SYNC_S3_SECRET_KEY</td><td>Access key secret for the S3 store credentials.</td><td><strong>Required (sync mode)</strong></td><td>password</td></tr><tr><td>SYNC_S3_PATH_STYLE</td><td><code>true</code> or <code>false</code>, force path style if <code>true</code>.</td><td><code>false</code></td><td><code>true</code></td></tr><tr><td>SYNC_S3_BUCKET</td><td>The bucket to be used for the system (dedicated).</td><td><strong>Required (sync mode)</strong></td><td><code>mybucket</code></td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/metatypedev/metatype/tree/main/website/docs/reference/typegate/index.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mbqs" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_dZFS"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/reference/typegraph"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Typegraph</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/reference/typegate/authentication"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Authentication</div></a></nav><div class="giscus_TRcM"></div></div></div><div class="col col--3"><div class="tableOfContents_K0hC thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#internal-apis" class="table-of-contents__link toc-highlight">Internal APIs</a></li><li><a href="#request-lifecycle" class="table-of-contents__link toc-highlight">Request lifecycle</a></li><li><a href="#httpgraphql-interface" class="table-of-contents__link toc-highlight">HTTP/GraphQL interface</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a><ul><li><a href="#environment-variables" class="table-of-contents__link toc-highlight">Environment variables.</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/metatype-basics">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts/features-overview">Features overview</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/concepts/mental-model">Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/changelog">Changelog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/metatypedev/metatype/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_L1_7"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://communityinviter.com/apps/metatypedev/invite" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_L1_7"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/metatypedev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_L1_7"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/91505656/admin/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_L1_7"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/legal/terms">Terms &amp; conditions</a></li><li class="footer__item"><a class="footer__link-item" href="/legal/privacy-policy">Privacy policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © Metatype OÜ.</div></div></div></footer></div>
</body>
</html>